description = 'RDForward Server - dedicated server runtime'

dependencies {
    implementation project(':rd-protocol')
    implementation project(':rd-world')
}

jar {
    manifest {
        attributes('Main-Class': 'com.github.martinambrus.rdforward.server.RDServer')
    }
}

task runServer(type: JavaExec) {
    description = 'Launches the RDForward dedicated server'
    group = 'application'
    dependsOn classes

    classpath = sourceSets.main.runtimeClasspath
    mainClass = 'com.github.martinambrus.rdforward.server.RDServer'
    jvmArgs = ['-Xmx512m']

    // Default port 25565, can be overridden with --args='<port>'
    args = ['25565']
}
